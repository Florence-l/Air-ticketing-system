<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>个人信息</title>
    <link rel="stylesheet" th:href="@{layui/css/layui.css}">
    <script type="text/javascript" src="/js/jquery-1.8.3.min.js"></script>
    <style>
        .box{
            width:200px;
            margin-left:150px;
            margin-top: 15px;
            }
        .title{
            color: #484891;
            margin-right: 20px;}
    </style>
</head>
<body>
<th:block th:include="common.html :: header"></th:block>
<th:block th:include="mineside.html :: side"></th:block>
<div style="position: relative; margin-left: 200px;padding: 15px;">
    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
        <legend>我的信息</legend>
    </fieldset>
    <div class="layui-collapse">
        <div class="layui-colla-item">
            <h2 class="layui-colla-title">个人信息设置</h2>
            <div class="layui-colla-content layui-show">
                <div class="box">
                   <label class="title">邮箱：</label>
                   <span id="email"></span>
                </div>
                <div class="box">
                    <label class="title">昵称：</label>
                    <span id="name"></span>
                </div>
                <div class="box">
                    <label class="title">性别：</label>
                    <span id="sex">ha</span>
                </div>
                <div class="box">
                    <label class="title">生日：</label>
                    <span id="birthday">ha</span>
                </div>
                <div **id="layerDemo**">
                    <button  id="update" type="button" class="layui-btn layui-btn-sm layui-btn-primary layui-border-green"
                       style="margin-left: 190px;margin-top: 20px;" > 编辑 </button>
                </div>
            </div>
        </div>
        <div class="layui-colla-item">
            <h2 class="layui-colla-title">头像设置</h2>
            <div class="layui-colla-content layui-show">内容区域</div>
        </div>
    </div>

</div>

    <script th:src="@{layui/layui.js}"></script>
    <script>
    //注意：折叠面板 依赖 element 模块，否则无法进行功能性操作
    layui.use('element', function(){
      var element = layui.element;
    });

    layui.use([ 'layer', 'table',  "laypage","jquery"], function(){
  var
    layer = layui.layer //弹层
   ,table = layui.table //表格
   ,laypage = layui.laypage //分页
   ,$ = layui.jquery

    $('#update').on("click",function(){
	  layer.open({
	      //调整弹框的大小
		  area:['600px','300px'],
		  shadeClose:false,//点击旁边地方自动关闭
		  //动画
		  anim:2,
		  //弹出层的基本类型
		  type: 2,
		  title: ['个人信息修改','background: #D2E9FF'],
		  //刚才定义的弹窗页面
		  content: 'userAdd.html',
		    })

	    });
    })
    </script>
    <script>
        $(function () {
            $.ajax({
                    type:"get",
                    url:"/usrname",
                    data:{},
                    async: false,
                    success:function (data){
                        $('#name').html(data);
                    }

                 });

            $.ajax({
                    type:"get",
                    url:"/usremail",
                    data:{},
                    async: false,
                    success:function (data){
                        if(data.length == 0) $('#email').html("未填写");
                        else $('#email').html(data);
                    }

                 });
            $.ajax({
                    type:"get",
                    url:"/usrsex",
                    data:{},
                    async: false,
                    success:function (data){
                        if(data.length == 0) $('#sex').html("未填写");
                        else if(data == 1) $('#sex').html("女");
                        else if(data == 0) $('#sex').html("男");
                    }
                 });

            $.ajax({
                    type:"get",
                    url:"/usrbirth",
                    data:{},
                    async: false,
                    success:function (data){
                        if(data.length == 0) $('#birthday').html("未填写");
                        else $('#birthday').html(data);
                    }

                 });

        })
    </script>




</body>
</html>